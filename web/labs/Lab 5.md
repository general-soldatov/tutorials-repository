# LAB 5 "Программирование на стороне клиента с использованием скриптового языка JavaScript"

## Цель работы
Ознакомиться с основами языка Javacript. Освоить его синтаксические конструкции, уметь интегрировать скрипт в документ HTML, и динамически управлять его элементами.

## Теоретическое введение
Web-документ, отображаемый браузером, – это результат исполнения программ, созданных на разных языках. Для описания структуры используется язык разметки (xhtml), для описания внешнего вида – язык стилей (css). Для описания поведения документа, его реакции на действия пользователя используется язык сценариев (javascript).  
JavaScript это язык программирования для создания интерактивных веб-страниц. JavaScript встраивается прямо в
веб-страницы и исполняется браузером во время их загрузки. JavaScript добавляется на веб-страницы с помощью тэга `<script>`.
Пример:
```html
<script type="text/javascript">
document.write("Данный текст выведен на страницу с помощью JavaScript.");
</script>
```
Атрибут type тэга `<script>` указывает браузеру какой скриптовый язык мы встраиваем. В случае если это JavaScript атрибут type должен иметь значение text/javascript;  
Разместив document.write() между тэгами <script> и `</script>` мы сообщаем браузеру обрабатывать ее как команду JavaScript, поэтому после загрузки страницы браузер выведет: "Данный текст выведен на страницу с помощью JavaScript.".
Чтобы JavaScript код не смешивался с HTML разметкой необходимо размещать его в секции head.  
Если размещать JavaScript в самом конце секции body, то скрипт не начнет выполняться до полной загрузки документа и
это не приведет к возможным ошибкам. JavaScript код необязательно должен непосредственно содержаться в HTML документе, он также может храниться во внешнем текстовом файле с расширением .js.
Использовать внешние файлы скриптов удобно в случаях, когда необходимо определять код, который будет работать на нескольких страницах веб-сайта. Внешние скрипты, также, как и обычные подключаются к страницам с помощью тэга <script> однако в этом случае содержимое тэга должно оставаться пустым и к нему должен быть добавлен атрибут src содержащий адрес внешнего .js
файла.

### Синтаксис языка
JavaScript – зависит от регистра. Имена JavaScript и Javascript - разные имена! Все ключевые слова используют только нижний регистр. Требования к именам переменных такие же, как в Паскале. Операторы разделяются точкой с запятой, которую можно опустить, если оператор заканчивается символом новой строки (Enter). Комментарии:
*	// однострочный комментарий,
*	/*
*	..многострочный комментарий
*	*/


### Типы данных
Переменные не имеют строгой типизации. Объявляются с помощью оператора let, который можно опускать, за исключением объявления локальных переменных в теле функции. Возможно объявление c одновременной инициализацией, например:
let s = 123	//объявляется целочисленная переменная x, имею- щая десятичное значение 123
let d=3.14 //объявляется переменная с плавающей точкой име- ющая десятичное значение
let str1='Строковая переменная'
let p=true //объявляется логическая переменная
Тип переменной может изменяться в процессе выполнения программы. Если в выражении содержатся и числовые и строковые переменные, то числовые переменные автоматически приводятся к строковому виду.


### Математические операции
Сложение	x=100+5, str2=’Начало’ + ’ конец’	  
Вычитание	X=100-5  
Умножение	X=2*3	  
Деление	X=12/2	  
Остаток от деления (аналогично mod)	X=16%3  
Значение увеличивается на 1	X=2; X++;  
Значение уменьшается на 1	X=2; X––;  

### Операции сравнения
Равно	Х==10  
Не равно	X!=5  
Больше	X>0  
Меньше	X<4  
Больше либо равно	X>=Y  
Меньше либо равно	X<=5  

### Логические операции
Аналогично	логической операции and	X>=2 && y>=2  
Аналогично	логической операции or	x>0 || y>0  
Аналогично	логической операции not	!(1 < x && x < 10)  

### Операторы присваивания
Присваивает значение переменной	Х=1000;  
Увеличивает значение переменной на указанную величину	X=1000; Х+=100;  
Уменьшает	значение	переменной на указанную величину	X=1000; Х-=12;  
Умножает значение переменной на указанную величину	X=1000; Х*=2;  
Делит значение переменной на указанную величину	X=1000; Х/=2;  
Делит значение переменной на указанную величину и возвращает остаток	X=1000; Х%=5;  

### Условный оператор
```js
if (a==2)
  z=2;
else
  z=3;

if (x>=2 && x<=6) {
  y=0;
  z=1;
}
else {
  y=1;
  z=0;
}
```
В JavaScript	существует 3 функции (метода), позволяющие пользователю выводить диалоговые окна:
* Метод alert используется для вывода простейшего диалогового окна, содержащего текст сообщения и единственную кнопку "Ok". Программа выводит сообщение и ожидает нажатия кнопки. После нажатия на кнопку, программа начинает выполняться дальше. Текст сообщения может сцепляться с любой текстовой пере- менной с помощью знака «+». Чтобы текст выводился в несколько строк используют символы «\n».
* Метод confirm используется в тех случаях, когда пользователь должен сделать выбор. Метод confirm позволяет пользователю вывести диалоговое окно, содержащее текст вопроса и кнопки "OК" и "Отмена". "OК" соответствует значению true, "Отмена" - значению false.
* Метод prompt используется в тех случаях, когда пользователю нужно ввести значение в переменную. В окно выводится сообщение «строка1», в поле ввода помещается умалчиваемое значение «строка2». Этот метод позволяет вывести диалоговое окно запроса на ввод данных. Результат работы функции присваивают переменной строкового типа.

Если введенные данные нужно использовать в арифметических выражениях, необходимо выполнить преобразование введенной строки к числовому типу. Это можно сделать при помощи следующих функций: parseInt("строка") - преобразует строку в целое число; parseFloat("строка") - преобразует строку в число с плавающей точкой.  
JavaScript это объектно-ориентированный язык. Основной единицей в объектно-ориентированном языке является объект, который объединяет в себе данные (свойства) и средства обработки этих данных (методы). Если говорить образно, то объекты – это «существительные», свойства объекта – это «прилагательные», а методы объекта – это «глаголы». Значения свойств объектов можно изменять.
Про JavaScript говорят, что в нем все объект. А именно: объектами являются окно, в котором открывается документ, сам документ, все элементы документа и даже свойства этих элементов. Есть также специальные встроенные объекты. Для упорядочивания огромного количества объектов создатели браузеров придумали объектную модель документа. Эта модель является структурой организации объектов на странице.
Объект document соответствует всему HTML-документу.  
Изучим один метод этого объекта, позволяющий динамически формировать документ.  
* Метод document.write(“строка html-кода”) - выводит строку в окно документа.
* Метод document.writeln (“строка html-кода”) - выводит строку в окно документа, в конце выводится символ "пробел".
  
Метод, применяемый к объекту, пишется после имени объекта через точку.  
Содержимое строки должно быть в кавычках или это может быть объединение (сумма) нескольких строк или строковых переменных.
Строка должна содержать элементы разметки страницы (теги и их содержимое). Метод исполняется в процессе загрузки документа.

### Оператор цикла for
1.	Возможен цикл с любым шагом.
2.	Отсутствует do.
3.	Начальное и конечное значение параметра, а также шаг указываются в скобках в заголовке цикла.
4.	Вместо операторных скобок (begin end) с той же целью используются фигурные скобки.

```js
let num = 3;
for (let i = 0; i < num; i++) {
  document.write(`<p>String number ${i}</p>`);
}
```
## Порядок выполнение
1. Окна оповещения используются в случаях, когда необходимо, чтобы пользователь обязательно обратил внимание на определенную информацию. Когда окно оповещения будет вызвано пользователь должен будет нажать кнопку "OK" для, того чтобы продолжить просмотр страницы. Выведем окно с помощью следующего кода:
```html
<html>
<head>
<script type='text/javascript'>
function example(){
  alert('Если Вы видите это сообщение, значит страница была полностью загружена.');
}
</script>
</head>
<body onload='example()'>
</body>
</html>
```
2. Окна подтверждения используются в случаях, когда необходимо, чтобы пользователь подтвердил или отклонил что-либо. Когда окно подтверждения будет вызвано пользователь должен будет нажать либо "OK", либо "Отмена", чтобы продолжить. Если пользователь нажмет "OK" вернется true (истина), если пользователь нажмет "Отмена" вернется false (ложь). Напишем следующий код:
```html
<html>
<head>
<script type='text/javascript'>
function popBox(){
 x=confirm("Нажмите на любую кнопку");
 if (x==true){
 document.write('Вы нажали OK');
 }
 else {
 document.write('Вы нажали Отмена.');
 }
}
</script>
</head>
<body onload='popBox()'>
</body>
</html>
```
3. Окна запроса используются в случаях, когда от пользователя необходимо получить определенную информацию. Когда окно запроса будет вызвано пользователь должен будет ввести определенные данные и нажать на "OK". Если пользователь не хочет вводить данные он может нажать "Отмена" и окно сразу будет закрыто. Если пользователь введет что-либо в окно и нажмет "OK" будет возвращено введенное пользователем значение, если пользователь нажмет "Отмена", то будет возвращено null. Напишем следующий код:
```html
<html>
<head>
<script type='text/javascript'>
//Функция будет вызвана после загрузки страницы
function popBox1()
{
 ex1=prompt("Введите Ваше имя:", "Дмитрий");
 document.write('Ваше имя: '+ex1);
}
</script>
</head>
<body onload='popBox1()'>
</body>
</html>
```
4. Используем цикл while для вывода текста:
```js
count = 1;
while (count< 5) {
  document.write("Счетчик " + count + "<BR>");
  count++; )
  document .write ( "<BRxBR>") ;
count = 0;
while (count< 5) {
  count++;
  document.write("Счетчик " + count + "<BR>");
}
```
5. Напишем более сложный скрипт поиска слова в массиве:
```js
function find_month() {
  month = prompt("Введите месяц: ");
  if (month) {
    let months = ['january', 'february', 'march', 'april', 'may', 'june', 'july', 'august', 'september', 'october', 'november', 'december'];
    var i = NaN;
    list = months.join("$");
    position = list.indexOf(month);
    if (position > -1) {
      var ind = 0;
      if (position) {
        sub_list = list.substring(0, position);
        sub_array = sub_list.split("$");
        ind = sub_array.length - 1;
      } 
      alert("Месяц " + months[ind] + " в массиве находится под индексом " + ind);  
    }
    else
      alert("Месяц " + month + " в массиве отсутствует");
  }
}

find_month();
```
6. Динамическое создание таблицы по данным многомерного массива. В основной раздел Web-страницы добавляется пустая таблица под именем tb. Затем выполняется код сценария, в котором прежде всего создается и заполняется данными многомерный массив arData. В следующих строках сценария выполняется конструкция из двух вложенных циклов for. Первый цикл добавляет в таблицу новую строку, тогда как следующий цикл заполняет строку таблицы ячейками и присваивает им значения из массива.
```html
<BODY>
<TABLE NAME='tb' ID='tb' BORDER=1></TABLE>
<SCRIPT>
arData = new Array(3);
arData[0] = new Array("1","2","3","4","5");
arData[1] = new Array("a","б","в","г","д");
arData[2] = new Array("@","#","$","%","&");
for (i = 0; i < arData.length; i++) {
  tb.insertRow(i);
  for (j = 0; j < arData[i].length; j++) {
    tb.rows[i].insertCell(j ) ;
    tb.rows[i].cells[j].width = 50;
    tb.rows[i].cells[j].align = 'center';
    tb.rows[i].cells[j].innerText = arData[i][j];
  }
}
</SCRIPT>
</BODY>
```
7. Динамическое добавление строк в таблицу. В функцию передаются значения полей Имя, Фамилия и Отчество. В первой строке функции add_entry в таблицу добавляется новая строка. Указан индекс ввода – 1. Таким образом, каждый щелчок на кнопке будет
вставлять новую строку под строкой заголовка, смещая все остальные строки вниз. Обратите внимание: нумерация строк, как и ячеек, начинается с числа 0, т.е. первая строка в таблице является нулевой. Номер последней строки равняется числу строк таблицы минус единица. Если индекс окажется больше этого числа, строка не будет добавлена в таблицу. Затем происходит добавление ячеек в новую строку и ввод соответствующего текста. Все ячейки вводятся под индексом 0, и каждая новая ячейка смещает предыдущие вправо по строке. Поэтому первой добавленной ячейке мы присваиваем текст последней ячейки в строке. Попробуйте самостоятельно изменить код таким образом, чтобы ячейки вводились в строку последовательно, с первой по последнюю.
```html
<script>
function add_entry(surname, name, middle) {
row = table.insertRow(1);
cell3 = row.insertCell(0);
cell3.innerText = middle;
cell2 = row.insertCell(0);
cell2.innerText = name;
cell1 = row.insertCell(0);
cell1.innerText = surname;
}
</script>
<Form>
<br>Фамилия
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Имя
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Отчество
<BR>
<INPUT Type='text' Value="Иванов" name='s' ID='s'>&nbsp;
<INPUT Type='text' Value="Иван" Name='n' ID='n'>&nbsp;
<INPUT Type='text' Value="Иванович" Name='m' ID='m'>
<br><INPUT TYPE='button' Value='добавьте данные в таблицу'
ONCLICK = "add_entry(s.value,n.value,m.value)">
</form>
<br>
<table Name='table' ID='table' border=1>
<tr><td>Фамилия</td><TD>Имя</td><TD>Отчество</td>
</tr>
</table>
```
8. Посчитаем количество дней, оставшихся до Нового года.
```html
<HTML>
<HEAD>
<TITLE>Выбор фона</TITLE>
<SCRIPT>
function count() {
 now = new Date();
 setdate = new Date("Jan 1 2022 00:00:00");
 setdate.setFullYear(now.getFullYear() + 1);
 day = (now - setdate) / 1000 / 60 / 60 / 24;
 day = Math.round(day);
 document.write("До Нового года осталось " + " <b>" + day + "</b>" + " дней!");
}
</SCRIPT>
<FORM>
Щелкните на кнопке:
<BR><INPUT TYPE=button ONCLICK="count()" VALUE="Результат">
</BODY>
</HTML>
```
## Содержание отчёта
